(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{14:function(e,t,n){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__39iuA","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__2-p-C"}},15:function(e,t,n){e.exports={"Button-wrapper":"Button_Button-wrapper__2qF_0",Button:"Button_Button__1L0yb"}},16:function(e,t,n){e.exports={Overlay:"Modal_Overlay__1CB0H",Modal:"Modal_Modal__1IXt1"}},28:function(e,t,n){e.exports={Searchbar:"Searchbar_Searchbar__2zmIZ"}},29:function(e,t,n){e.exports={ImageGallery:"ImageGallery_ImageGallery__2XQFX"}},31:function(e,t,n){e.exports={Loader:"Loader_Loader__3181a"}},32:function(e,t,n){e.exports={Message:"Message_Message__2JNjN"}},33:function(e,t,n){e.exports={IconButton:"IconButton_IconButton__1RS88"}},7:function(e,t,n){e.exports={SearchForm:"SearchForm_SearchForm__1f4Fv","SearchForm-button":"SearchForm_SearchForm-button__3kiK0","SearchForm-button-label":"SearchForm_SearchForm-button-label__3BRBl","SearchForm-input":"SearchForm_SearchForm-input__1pwuZ"}},80:function(e,t,n){e.exports={App:"App_App__T06PX"}},81:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(10),l=n.n(c),o=n(5),s=n.n(o),i=n(18),u=n(12),m=n(4),b=n(7),h=n.n(b),j=n(1),p=function(e){var t=e.onSearch,n=Object(r.useState)(""),a=Object(m.a)(n,2),c=a[0],l=a[1],o=function(){return l("")};return Object(j.jsxs)("form",{className:h.a.SearchForm,onSubmit:function(e){e.preventDefault(),c.trim()&&(t(c),o())},children:[Object(j.jsx)("button",{type:"submit",className:h.a["SearchForm-button"],children:Object(j.jsx)("span",{className:h.a["SearchForm-button-label"],children:"Search"})}),Object(j.jsx)("input",{className:h.a["SearchForm-input"],type:"text",name:"query",value:c,onChange:function(e){var t=e.currentTarget.value;l(t)},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})},d=n(28),f=n.n(d),g=function(e){var t=e.onSearch;return Object(j.jsx)("header",{className:f.a.Searchbar,children:Object(j.jsx)(p,{onSearch:t})})},O=n(14),x=n.n(O),v=function(e){var t=e.image,n=e.onImageClick;return Object(j.jsx)("li",{className:x.a.ImageGalleryItem,children:Object(j.jsx)("img",{src:t.webformatURL,alt:t.tags,className:x.a["ImageGalleryItem-image"],onClick:function(){return n(t.largeImageURL)}})})};v.defaultProps={tags:""};var _=v,y=n(29),S=n.n(y),w=function(e){var t=e.images,n=e.onImageClick;return Object(j.jsx)("ul",{className:S.a.ImageGallery,children:t.map((function(e){return Object(j.jsx)(_,{image:e,onImageClick:n},e.id)}))})},I=n(2),k=n.n(I),E=n(15),C=n.n(E),F=function(e){var t=e.onClick;return Object(j.jsx)("div",{className:C.a["Button-wrapper"],children:Object(j.jsx)("button",{type:"button",className:C.a.button,onClick:t,children:"Load more"})})};F.prototypes={onClick:k.a.func.isRequired};var N=F,B=n(30),L=n.n(B),M=n(31),G=n.n(M),P=function(){return Object(j.jsx)("div",{className:G.a.Loader,children:Object(j.jsx)(L.a,{type:"TailSpin",color:"#02be6e",height:100,width:100})})},R=n(32),T=n.n(R),q=function(e){var t=e.children;return Object(j.jsx)("div",{className:T.a.Message,children:t})};q.defaultProps={children:[]};var z=q,A=n(16),X=n.n(A),U=document.querySelector("#modal-root"),J=function(e){var t=e.children,n=e.onClose;Object(r.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}}));var a=function(e){"Escape"===e.code&&n()};return Object(c.createPortal)(Object(j.jsx)("div",{className:X.a.Overlay,onClick:function(e){e.currentTarget===e.target&&n()},children:Object(j.jsx)("div",{className:X.a.Modal,children:t})}),U)};J.defaultProps={children:null};var H=J,Z=n(19),D=n(34),K=n(33),Q=n.n(K),V=["children","onclick"],W=function(e){var t=e.children,n=e.onclick,r=Object(D.a)(e,V);return Object(j.jsx)("button",Object(Z.a)(Object(Z.a)({type:"button",className:Q.a.IconButton,onClick:n},r),{},{children:t}))};W.defaultProps={onclick:function(){return null},children:null};var Y,$,ee,te,ne,re,ae,ce,le,oe,se,ie,ue,me,be,he,je=W,pe=["title","titleId"];function de(){return de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}function fe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ge(e,t){var n=e.title,a=e.titleId,c=fe(e,pe);return r.createElement("svg",de({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 252 252",style:{enableBackground:"new 0 0 252 252"},xmlSpace:"preserve",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,Y||(Y=r.createElement("g",null,r.createElement("path",{d:"M126,0C56.523,0,0,56.523,0,126s56.523,126,126,126s126-56.523,126-126S195.477,0,126,0z M126,234 c-59.551,0-108-48.449-108-108S66.449,18,126,18s108,48.449,108,108S185.551,234,126,234z"}),r.createElement("path",{d:"M164.612,87.388c-3.515-3.515-9.213-3.515-12.728,0L126,113.272l-25.885-25.885c-3.515-3.515-9.213-3.515-12.728,0 c-3.515,3.515-3.515,9.213,0,12.728L113.272,126l-25.885,25.885c-3.515,3.515-3.515,9.213,0,12.728 c1.757,1.757,4.061,2.636,6.364,2.636s4.606-0.879,6.364-2.636L126,138.728l25.885,25.885c1.757,1.757,4.061,2.636,6.364,2.636 s4.606-0.879,6.364-2.636c3.515-3.515,3.515-9.213,0-12.728L138.728,126l25.885-25.885 C168.127,96.601,168.127,90.902,164.612,87.388z"}))),$||($=r.createElement("g",null)),ee||(ee=r.createElement("g",null)),te||(te=r.createElement("g",null)),ne||(ne=r.createElement("g",null)),re||(re=r.createElement("g",null)),ae||(ae=r.createElement("g",null)),ce||(ce=r.createElement("g",null)),le||(le=r.createElement("g",null)),oe||(oe=r.createElement("g",null)),se||(se=r.createElement("g",null)),ie||(ie=r.createElement("g",null)),ue||(ue=r.createElement("g",null)),me||(me=r.createElement("g",null)),be||(be=r.createElement("g",null)),he||(he=r.createElement("g",null)))}var Oe=r.forwardRef(ge),xe=(n.p,n(17)),ve=n.n(xe);ve.a.defaults.baseURL="https://pixabay.com/api";var _e=function(){var e=Object(u.a)(s.a.mark((function e(t,n){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.a.get("/?q=".concat(t,"&page=").concat(n,"&key=").concat("23131793-6d85f6b0cc60a2b86f77a0160","&image_type=photo&orientation=horizontal&per_page=12"));case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ye=_e,Se=function(){var e=Object(r.useState)([]),t=Object(m.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(1),l=Object(m.a)(c,2),o=l[0],b=l[1],h=Object(r.useState)(""),p=Object(m.a)(h,2),d=p[0],f=p[1],O=Object(r.useState)(!1),x=Object(m.a)(O,2),v=x[0],_=x[1],y=Object(r.useState)(!1),S=Object(m.a)(y,2),I=S[0],k=S[1],E=Object(r.useState)(""),C=Object(m.a)(E,2),F=C[0],B=C[1],L=Object(r.useState)(null),M=Object(m.a)(L,2),G=M[0],R=M[1];Object(r.useEffect)((function(){d&&T()}),[d]);var T=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.prev=1,e.next=4,ye(d,o);case 4:t=e.sent,n=t.hits,a((function(e){return[].concat(Object(i.a)(e),Object(i.a)(n))})),b((function(e){return e+1})),1!==o&&A(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("Smth wrong with App fetch",e.t0),R({error:e.t0});case 15:return e.prev=15,_(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,11,15,18]])})));return function(){return e.apply(this,arguments)}}(),q=function(){k((function(e){return!e}))},A=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},X=n.length>0&&n.length>=12;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g,{onSearch:function(e){a([]),b(1),f(e),_(!1),k(!1),B(""),R(null)}}),n.length<1&&Object(j.jsxs)(z,{children:[Object(j.jsx)("h2",{children:"The gallery is empty \u269b"}),Object(j.jsx)("p",{children:"Use search field!"})]}),Object(j.jsx)(w,{images:n,onImageClick:function(e){B(e),k(!0)}}),X&&Object(j.jsx)(N,{onClick:T}),I&&Object(j.jsxs)(H,{onClose:q,children:[Object(j.jsx)("div",{className:"Close-box",children:Object(j.jsx)(je,{onClick:q,"aria-label":"Close modal",children:Object(j.jsx)(Oe,{width:"20px",height:"20px",fill:"#7e7b7b"})})}),Object(j.jsx)("img",{src:F,alt:"",className:"Modal-image"})]}),v&&Object(j.jsx)(P,{}),G&&Object(j.jsxs)(z,{children:[Object(j.jsx)("h2",{children:"Oops!\ud83d\ude2d"}),Object(j.jsxs)("p",{children:["Sorry, something went wrong. Please try again, or"," ",Object(j.jsx)("a",{href:"/",children:"refresh the page"}),"."]})]})]})};n(79),n(80);l.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(Se,{})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.dd2ac322.chunk.js.map